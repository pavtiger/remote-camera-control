<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <img id="image">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.6.1/socket.io.js"></script>
    <script>
        const socket = io.connect('http://192.168.1.12:9002');
        socket.on('image', (image) => {
            const imageElem = document.getElementById('image');
            imageElem.src = `data:image/jpeg;base64,${image}`;
        })

        // Key events
        document.addEventListener("keydown", onDocumentKeyDown, false);
        function onDocumentKeyDown(event) {
            if (event.which === 37) {  // Left
                socket.emit('left');
            } else if (event.which === 39) {  // Right
                socket.emit('right');
            } else if (event.which === 38) {  // Up
                socket.emit("up");
            } else if (event.which === 40) {  // Down
                socket.emit("down");
            }
        }
    </script>
</body>
</html>
